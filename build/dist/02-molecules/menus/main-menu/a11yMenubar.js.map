{"version":3,"sources":["02-molecules/menus/main-menu/a11yMenubar.js"],"names":["_classCallCheck","TypeError","_defineProperties","length","enumerable","configurable","writable","Object","defineProperty","key","_createClass","prototype","a11yMenubar","arguments","document","_keyCode","TAB","ENTER","ESC","SPACE","END","HOME","ARROW_LEFT","ARROW_UP","ARROW_RIGHT","ARROW_DOWN","_id","_domObj","_hoverintent","_ariaLabel","_navElem","getElementById","_menubarMenuitems","_currentMenubarIndex","_currentMenuitem","setAttribute","classList","add","querySelector","handleMouseoutMenubar","bind","options","timeout","interval","addEventListener","children","firstElementChild","handleKeydownMenubar","querySelectorAll","handleKeydownSubmenu","parentNode","textContent","handleMouseoverMenuitem","value","defaultPrevented","target","normalizeKey","keyCode","closeAllSubmenus","openSubmenu","focus","updateCurrentMenuitem","lastElementChild","stopPropagation","preventDefault","click","closeSubmenu","hasSubmenu","contains","nextElementSibling","previousElementSibling","closeSiblingSubmenus","remove","push"],"mappings":"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","file":"a11yMenubar.js","sourcesContent":["\"use strict\";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,\"value\"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var a11yMenubar=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"\",e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e;_classCallCheck(this,a),this._keyCode={TAB:9,ENTER:13,ESC:27,SPACE:32,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},this._id=b,this._domObj=c,this._hoverintent=e,this._ariaLabel=d,this._navElem=this._domObj.getElementById(this._id),this._menubarMenuitems=[],this._currentMenubarIndex=0,this._currentMenuitem=null,this._navElem.setAttribute(\"aria-label\",this._ariaLabel),this._navElem.classList.add(\"a11y-menubar\");var f=this._navElem.querySelector(\"ul\");if(f.setAttribute(\"role\",\"menubar\"),f.setAttribute(\"aria-label\",this._ariaLabel),this._hoverintent){this._hoverintent(f,function(){},this.handleMouseoutMenubar.bind(this)).options({timeout:900,interval:50})}else f.addEventListener(\"mouseout\",this.handleMouseoutMenubar.bind(this));for(var g,h=f.children,m=0;m<h.length;m++)g=h[m].firstElementChild,g.classList.add(\"a11y-menubar-menuitem\"),this._menubarMenuitems[m]=g,g.addEventListener(\"keydown\",this.handleKeydownMenubar.bind(this));for(var n=this._navElem.querySelectorAll(\"a + ul > li > a\"),o=0;o<n.length;o++)n[o].addEventListener(\"keydown\",this.handleKeydownSubmenu.bind(this));for(var p=f.querySelectorAll(\"li > a\"),q=0;q<p.length;q++){p[q].setAttribute(\"role\",\"menuitem\"),p[q].setAttribute(\"tabindex\",\"-1\");for(var r=p[q].parentNode,s=r.querySelectorAll(\"a + ul\"),t=0;t<s.length;t++){var u=s[t].parentNode,v=u.querySelector(\"a\"),w=v.textContent;v.setAttribute(\"aria-haspopup\",\"true\"),v.setAttribute(\"aria-expanded\",\"false\"),s[t].setAttribute(\"role\",\"menu\"),s[t].setAttribute(\"aria-label\",w),s[t].classList.add(\"a11y-menubar-menu-closed\")}if(this._hoverintent){this._hoverintent(p[q],this.handleMouseoverMenuitem.bind(this),function(){}).options({timeout:100,interval:0})}else p[q].addEventListener(\"mouseover\",this.handleMouseoverMenuitem.bind(this))}for(var x=f.querySelectorAll(\"li\"),y=0;y<x.length;y++)x[y].setAttribute(\"role\",\"none\");this._menubarMenuitems[0].setAttribute(\"tabindex\",\"0\"),this._currentMenuitem=this._menubarMenuitems[0]}return _createClass(a,[{key:\"destroy\",value:function a(){}},{key:\"handleKeydownMenubar\",value:function i(a){if(!a.defaultPrevented){var b=!1,c=a.target,d=this.normalizeKey(a.key||a.keyCode);if(d==this._keyCode.SPACE||d==this._keyCode.ENTER||d==this._keyCode.ARROW_DOWN){this.closeAllSubmenus(),this.openSubmenu(c);var j=c.parentNode.querySelector(\"ul[role=menu] > li > a[role=menuitem]\");null!=j&&(j.focus(),this.updateCurrentMenuitem(j)),b=!0}else if(d==this._keyCode.ARROW_RIGHT){var e=this._currentMenubarIndex+1>=this._menubarMenuitems.length?0:this._currentMenubarIndex+1,f=this._menubarMenuitems[e];f.focus(),this._currentMenubarIndex=e,this.updateCurrentMenuitem(f),b=!0}else if(d==this._keyCode.ARROW_LEFT){var g=0>this._currentMenubarIndex-1?this._menubarMenuitems.length-1:this._currentMenubarIndex-1,h=this._menubarMenuitems[g];h.focus(),this._currentMenubarIndex=g,this.updateCurrentMenuitem(h),b=!0}else if(d==this._keyCode.ARROW_UP){this.openSubmenu(c);var k=c.parentNode.querySelector(\"ul[role=menu]\").lastElementChild.firstElementChild;k.focus(),this.updateCurrentMenuitem(k),b=!0}else if(d==this._keyCode.HOME){var l=this._menubarMenuitems[0];l.focus(),this.updateCurrentMenuitem(l),b=!0}else if(d==this._keyCode.END){var m=this._menubarMenuitems[this._menubarMenuitems.length-1];m.focus(),this.updateCurrentMenuitem(m),b=!0}else;b&&(a.stopPropagation(),a.preventDefault())}}},{key:\"handleKeydownSubmenu\",value:function m(a){if(!a.defaultPrevented){var b=!1,c=a.target,d=this.normalizeKey(a.key||a.keyCode);if(d==this._keyCode.SPACE||d==this._keyCode.ENTER)c.click(),b=!0;else if(d==this._keyCode.ESC){var n=c.parentNode.parentNode.parentNode.querySelector(\"a[role=menuitem]\");this.closeSubmenu(n),n.focus(),this.updateCurrentMenuitem(n),b=!0}else if(d==this._keyCode.ARROW_RIGHT){if(this.hasSubmenu(c)){var o=c.parentNode.querySelector(\"a + ul\").querySelector(\"li > a\");this.openSubmenu(c),o.focus(),this.updateCurrentMenuitem(o)}else{this.closeAllSubmenus();var e=this._currentMenubarIndex+1>=this._menubarMenuitems.length?0:this._currentMenubarIndex+1,f=this._menubarMenuitems[e];f.focus(),this.openSubmenu(f),this._currentMenubarIndex=e,this.updateCurrentMenuitem(f)}b=!0}else if(d==this._keyCode.ARROW_LEFT){var p=c.parentNode.parentNode.parentNode.querySelector(\"a[role=menuitem]\");if(this.closeSubmenu(p),p.focus(),this.updateCurrentMenuitem(p),this._currentMenuitem.classList.contains(\"a11y-menubar-menuitem\")){var g=0>this._currentMenubarIndex-1?this._menubarMenuitems.length-1:this._currentMenubarIndex-1,h=this._menubarMenuitems[g];h.focus(),this.openSubmenu(h),this._currentMenubarIndex=g,this.updateCurrentMenuitem(h)}b=!0}else if(d==this._keyCode.ARROW_DOWN){var i=void 0,j=c.parentNode.nextElementSibling;i=null==j?c.parentNode.parentNode.firstElementChild.querySelector(\"a\"):j.querySelector(\"a\"),i.focus(),this.updateCurrentMenuitem(i),b=!0}else if(d==this._keyCode.ARROW_UP){var k=void 0,l=c.parentNode.previousElementSibling;k=null==l?c.parentNode.parentNode.lastElementChild.querySelector(\"a\"):l.querySelector(\"a\"),k.focus(),this.updateCurrentMenuitem(k),b=!0}else if(d==this._keyCode.HOME){var q=c.parentNode.parentNode.firstElementChild.querySelector(\"a\");q.focus(),this.updateCurrentMenuitem(q),b=!0}else if(d==this._keyCode.END){var r=c.parentNode.parentNode.lastElementChild.querySelector(\"a\");r.focus(),this.updateCurrentMenuitem(r),b=!0}else;b&&(a.stopPropagation(),a.preventDefault())}}},{key:\"handleMouseoverMenuitem\",value:function c(a){if(!a.defaultPrevented){var b=a.target;this.hasSubmenu(b)&&this.openSubmenu(b),this.closeSiblingSubmenus(b)}}},{key:\"handleMouseoutMenubar\",value:function b(a){if(!a.defaultPrevented){a.target;this.closeAllSubmenus()}}},{key:\"updateCurrentMenuitem\",value:function b(a){this._currentMenuitem.setAttribute(\"tabindex\",\"-1\"),this._currentMenuitem=a,this._currentMenuitem.setAttribute(\"tabindex\",\"0\")}},{key:\"hasSubmenu\",value:function d(a){var b=a.parentNode,c=b.querySelector(\"a + ul\");return null!=c}},{key:\"openSubmenu\",value:function d(a){var b=a.parentNode,c=b.querySelector(\"ul\");null!=c&&(c.classList.remove(\"a11y-menubar-menu-closed\"),c.classList.add(\"a11y-menubar-menu-open\"),a.setAttribute(\"aria-expanded\",\"true\"))}},{key:\"closeSubmenu\",value:function d(a){var b=a.parentNode,c=b.querySelector(\"ul\");null!=c&&(c.classList.remove(\"a11y-menubar-menu-open\"),c.classList.add(\"a11y-menubar-menu-closed\"),a.setAttribute(\"aria-expanded\",\"false\"))}},{key:\"closeSiblingSubmenus\",value:function f(a){for(var b=a.parentNode.parentNode,c=b.querySelectorAll(\"li > a[role=menuitem]\"),d=[],e=0;e<c.length;e++)c[e]!==a&&d.push(c[e]);for(var g=0;g<d.length;g++)this.closeSubmenu(d[g])}},{key:\"closeAllSubmenus\",value:function d(){for(var a,b=this._navElem.querySelectorAll(\"ul.a11y-menubar-menu-open\"),c=0;c<b.length;c++)a=b[c].parentNode.querySelector(\"a\"),a.setAttribute(\"aria-expanded\",\"false\"),b[c].classList.remove(\"a11y-menubar-menu-open\"),b[c].classList.add(\"a11y-menubar-menu-closed\")}},{key:\"normalizeKey\",value:function c(a){var b=null;switch(a){case\"Tab\":case 9:b=this._keyCode.TAB;break;case\"Enter\":case 13:b=this._keyCode.ENTER;break;case\"Escape\":case\"Esc\":case 13:b=this._keyCode.ESC;break;case\" \":case 32:b=this._keyCode.SPACE;break;case\"End\":case 35:b=this._keyCode.END;case\"Home\":case 36:b=this._keyCode.HOME;break;case\"ArrowLeft\":case 37:b=this._keyCode.ARROW_LEFT;break;case\"ArrowUp\":case 38:b=this._keyCode.ARROW_UP;break;case\"ArrowRight\":case 39:b=this._keyCode.ARROW_RIGHT;break;case\"ArrowDown\":case 40:b=this._keyCode.ARROW_DOWN;}return b}}]),a}();\n"]}