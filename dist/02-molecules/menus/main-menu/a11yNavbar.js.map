{"version":3,"sources":["02-molecules/menus/main-menu/a11yNavbar.js"],"names":["a11yNavbar","_keyCode","TAB","ENTER","ESC","SPACE","END","HOME","ARROW_LEFT","ARROW_UP","ARROW_RIGHT","ARROW_DOWN","_touchmoveActive","_defaultOptions","windowObj","window","domObj","document","ariaLabel","hoverintent","orientation","breakpointMinWidth","responsiveToggleText","responsiveSubmenuToggles","mode","_options","Object","assign","_id","_navElem","getElementById","_menubarMenuitems","_currentMenubarIndex","_currentMenuitem","addEventListener","handleFocusoutNavElem","bind","handleTouchendDocument","handleTouchendNavElem","_menubarInstructions","createElement","innerHTML","setAttribute","classList","add","insertBefore","firstElementChild","_menubarToggle","textContent","appendChild","handleClickMenubarToggle","handleMenubarResize","querySelector","handleMouseoutMenubar","options","timeout","interval","children","length","handleKeydownMenubar","querySelectorAll","handleKeydownSubmenu","handleFocusinMenuitem","handleMouseoverMenuitem","handleClickMenuitem","handleTouchstartMenuitem","handleTouchmoveMenuitem","handleTouchendMenuitem","parentNode","menubarResize","defaultPrevented","contains","remove","target","normalizeKey","key","keyCode","closeAllSubmenus","openSubmenu","focus","updateCurrentMenuitem","performClick","hasSubmenu","lastElementChild","stopPropagation","preventDefault","closeSubmenu","nextElementSibling","previousElementSibling","closeSiblingSubmenus","clickMenuitem","openParentSubmenus","relatedTarget","resetNavbar","getAttribute","innerWidth","addMenubarToggle","addSubmenuToggles","removeMenubarToggle","removeSubmenuToggles","removeChild","handleClickSubmenuToggle","hideInstructions","showInstructions","push","location","hasAttribute","indexOf"],"mappings":"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","file":"a11yNavbar.js","sourcesContent":["/**\n * @file a11yNavbar.js\n *\n * A11y Navbar Copyright (c) 2019 Joe Bondra\n */\n\nclass a11yNavbar {\n  constructor(id, options = {}) {\n    // Define members.\n    this._keyCode = {\n      TAB: 9,\n      ENTER: 13,\n      ESC: 27,\n      SPACE: 32,\n      END: 35,\n      HOME: 36,\n      ARROW_LEFT: 37,\n      ARROW_UP: 38,\n      ARROW_RIGHT: 39,\n      ARROW_DOWN: 40,\n    };\n\n    this._touchmoveActive = false; // Used to determine if user is currently scrolling via touch.\n\n    // Merge user-defined options with default options.\n    this._defaultOptions = {\n      windowObj: window,\n      domObj: document,\n      ariaLabel: '',\n      hoverintent: hoverintent,\n      orientation: 'horizontal',\n      breakpointMinWidth: 500,\n      responsiveToggleText: 'Menu',\n      responsiveSubmenuToggles: false,\n      mode: 'standard',\n    };\n    this._options = Object.assign(this._defaultOptions, options);\n\n    this._id = id;\n    this._navElem = this._options.domObj.getElementById(this._id);\n    this._menubarMenuitems = [];\n    this._currentMenubarIndex = 0;\n    this._currentMenuitem = null;\n\n    // Reset navbar when navbar loses focus.\n    this._navElem.addEventListener(\n      'focusout',\n      this.handleFocusoutNavElem.bind(this),\n    );\n\n    // Reset navbar when touchend event occurs outside navbar.\n    this._options.domObj.addEventListener(\n      'touchend',\n      this.handleTouchendDocument.bind(this),\n    );\n    this._navElem.addEventListener(\n      'touchend',\n      this.handleTouchendNavElem.bind(this),\n    );\n\n    if (this._options.mode == 'dualAction') {\n      // Add element to explain alternate instructions for mode dualAction.\n      this._menubarInstructions = this._options.domObj.createElement('div');\n      this._menubarInstructions.innerHTML =\n        '<p>Use <strong>Enter</strong> or <strong>Space</strong> to activate links.</p>' +\n        '<p>Use appropriate arrow key to open or close submenus.</p>';\n      this._menubarInstructions.setAttribute(\n        'id',\n        this._id + '-menubar-instructions',\n      );\n      this._menubarInstructions.classList.add('a11y-navbar-instructions');\n      this._navElem.insertBefore(\n        this._menubarInstructions,\n        this._navElem.firstElementChild,\n      );\n    }\n\n    // Add/Remove toggle button based on breakpointMinWidth.\n    this._menubarToggle = this._options.domObj.createElement('button');\n    this._menubarToggle.textContent = this._options.responsiveToggleText;\n    this._menubarToggle.setAttribute('id', this._id + '-toggle');\n    this._menubarToggle.setAttribute('aria-expanded', 'false');\n    this._menubarToggle.setAttribute('aria-controls', this._id);\n    this._menubarToggle.classList.add('a11y-navbar-toggle');\n    let menuIcon = this._options.domObj.createElement('span');\n    menuIcon.setAttribute('aria-hidden', 'true');\n    this._menubarToggle.appendChild(menuIcon);\n    this._menubarToggle.addEventListener(\n      'click',\n      this.handleClickMenubarToggle.bind(this),\n    );\n\n    this._options.windowObj.addEventListener(\n      'resize',\n      this.handleMenubarResize.bind(this),\n    );\n\n    // TODO: Add configurable defaults for class names.\n\n    // Set up aria roles and attributes.\n    this._navElem.setAttribute('aria-label', this._options.ariaLabel);\n    this._navElem.classList.add('a11y-navbar');\n\n    let menubar = this._navElem.querySelector('ul');\n\n    menubar.setAttribute('aria-label', this._options.ariaLabel);\n    menubar.classList.add('a11y-navbar-menubar');\n    menubar.classList.add(\n      'a11y-navbar-orientation-' + this._options.orientation,\n    );\n\n    if (this._options.orientation == 'horizontal') {\n      menubar.setAttribute('role', 'menubar');\n    } else if (this._options.orientation == 'vertical') {\n      // aria-orientation is implicitly 'vertical' for menus, and not supported on role=menubar.\n      menubar.setAttribute('role', 'menu');\n    }\n\n    // Add hoverintent functionality (or mouse events if hoverintent not available).\n    if (this._options.hoverintent) {\n      // Hoverintent in environment.\n      let options = {\n        timeout: 900,\n        interval: 50,\n      };\n\n      this._options\n        .hoverintent(\n          menubar,\n          function(event) {},\n          this.handleMouseoutMenubar.bind(this),\n        )\n        .options(options);\n    } else {\n      // Default mouse events.\n      menubar.addEventListener(\n        'mouseout',\n        this.handleMouseoutMenubar.bind(this),\n      );\n    }\n\n    // For menubar menuitems specifically.\n    let menubarMenuitems = menubar.children;\n\n    for (let i = 0; i < menubarMenuitems.length; i++) {\n      let menubarMenuitem = menubarMenuitems[i].querySelector('a');\n      menubarMenuitem.classList.add('a11y-navbar-menuitem');\n\n      // collect these as an Array or something and store in the class.\n      this._menubarMenuitems[i] = menubarMenuitem;\n\n      // Add keydown handler (bound to a11yNavbar instance).\n      menubarMenuitem.addEventListener(\n        'keydown',\n        this.handleKeydownMenubar.bind(this),\n      );\n    }\n\n    // Add keydown handler to submenu menuitems (bound to a11yNavbar instance).\n    let submenuMenuitems = this._navElem.querySelectorAll('a + ul > li > a');\n\n    for (let i = 0; i < submenuMenuitems.length; i++) {\n      submenuMenuitems[i].addEventListener(\n        'keydown',\n        this.handleKeydownSubmenu.bind(this),\n      );\n\n      // Add handler to open parent menuitems if menu was closed by non-keyboard interaction.\n      submenuMenuitems[i].addEventListener(\n        'focusin',\n        this.handleFocusinMenuitem.bind(this),\n      );\n    }\n\n    // Attributes for all menuitems.\n    let menuitems = menubar.querySelectorAll('li > a');\n\n    for (let j = 0; j < menuitems.length; j++) {\n      menuitems[j].setAttribute('role', 'menuitem');\n      menuitems[j].setAttribute('tabindex', '-1');\n\n      // Add hoverintent functionality (or mouse events if hoverintent not available).\n      if (this._options.hoverintent) {\n        // Hoverintent in environment.\n        let options = {\n          timeout: 500,\n          interval: 100,\n        };\n\n        this._options\n          .hoverintent(\n            menuitems[j],\n            this.handleMouseoverMenuitem.bind(this),\n            function(event) {},\n          )\n          .options(options);\n      } else {\n        // Default mouse events.\n        menuitems[j].addEventListener(\n          'mouseover',\n          this.handleMouseoverMenuitem.bind(this),\n        );\n      }\n\n      // @see https://w3c.github.io/touch-events/#mouse-events\n      // Override click event for all menuitems.\n      menuitems[j].addEventListener(\n        'click',\n        this.handleClickMenuitem.bind(this),\n      );\n\n      // Override touch events for all menuitems.\n      menuitems[j].addEventListener(\n        'touchstart',\n        this.handleTouchstartMenuitem.bind(this),\n      );\n      menuitems[j].addEventListener(\n        'touchmove',\n        this.handleTouchmoveMenuitem.bind(this),\n      );\n      menuitems[j].addEventListener(\n        'touchend',\n        this.handleTouchendMenuitem.bind(this),\n      );\n    }\n\n    // Attributes for all submenus.\n    let submenus = menubar.querySelectorAll('li > a + ul');\n\n    for (let k = 0; k < submenus.length; k++) {\n      // Get aria-label from anchor sibing.\n      let submenuLiElem = submenus[k].parentNode;\n      let aElem = submenuLiElem.querySelector('a');\n      let aElemText = aElem.textContent;\n\n      aElem.setAttribute('aria-haspopup', 'true');\n      aElem.setAttribute('aria-expanded', 'false');\n\n      submenus[k].setAttribute('id', this._id + '-submenu-' + k);\n      submenus[k].setAttribute('role', 'menu');\n      submenus[k].setAttribute('aria-label', aElemText);\n      submenus[k].classList.add('a11y-navbar-submenu');\n      submenus[k].classList.add('a11y-navbar-menu-closed');\n    }\n\n    // All li elements should have an aria role of \"none\".\n    let liElem = menubar.querySelectorAll('li');\n\n    for (let l = 0; l < liElem.length; l++) {\n      liElem[l].setAttribute('role', 'none');\n    }\n\n    // First menubar menuitem should have tabindex 0.\n    this._menubarMenuitems[0].setAttribute('tabindex', '0');\n\n    if (this._options.mode == 'dualAction') {\n      // Add instructions for dualAction mode to first menubar menuitem.\n      this._menubarMenuitems[0].setAttribute(\n        'aria-describedby',\n        this._id + '-menubar-instructions',\n      );\n    }\n\n    // First menubar menuitem should be the current menuitem.\n    this._currentMenuitem = this._menubarMenuitems[0];\n\n    // Check if the menu should be resized on page load.\n    this.menubarResize();\n  }\n\n  destroy() {\n    // Remove all attributes/behaviors, etc. from constructor.\n  }\n\n  // Event Handlers -----------------------------------------------------\n\n  handleMenubarResize(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    this.menubarResize();\n  }\n\n  handleClickMenubarToggle(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if (this._navElem.classList.contains('a11y-navbar-closed')) {\n      this._navElem.classList.remove('a11y-navbar-closed');\n      this._navElem.classList.add('a11y-navbar-open');\n      this._menubarToggle.setAttribute('aria-expanded', 'true');\n    } else if (this._navElem.classList.contains('a11y-navbar-open')) {\n      this._navElem.classList.remove('a11y-navbar-open');\n      this._navElem.classList.add('a11y-navbar-closed');\n      this._menubarToggle.setAttribute('aria-expanded', 'false');\n    }\n  }\n\n  handleKeydownMenubar(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    /*\n     When items in a menubar are arranged vertically and items in menu containers are arranged horizontally:\n      -Down Arrow performs as Right Arrow, and vice versa.\n      -Up Arrow performs as Left Arrow, and vice versa.\n     */\n\n    let preventDefault = false; // Flag to prevent the keypress from doing what it usually would do.\n    let menuitem = event.target;\n    let key = this.normalizeKey(event.key || event.keyCode);\n    let mode = this._options.mode;\n\n    if (\n      (key == this._keyCode.SPACE && mode == 'standard') ||\n      (key == this._keyCode.ENTER && mode == 'standard') ||\n      (this._options.orientation == 'horizontal' &&\n        key == this._keyCode.ARROW_DOWN) ||\n      (this._options.orientation == 'vertical' &&\n        key == this._keyCode.ARROW_RIGHT)\n    ) {\n      // Opens submenu and moves focus to first item in the submenu.\n      this.closeAllSubmenus();\n      this.openSubmenu(menuitem);\n      let firstMenuitem = menuitem.parentNode\n        .querySelector('ul[role=menu] > li')\n        .querySelector('a');\n\n      if (firstMenuitem != null) {\n        firstMenuitem.focus();\n        this.updateCurrentMenuitem(firstMenuitem);\n      }\n      preventDefault = true;\n    } else if (\n      (key == this._keyCode.SPACE && mode == 'dualAction') ||\n      (key == this._keyCode.ENTER && mode == 'dualAction')\n    ) {\n      // Activates menu item, causing the link to be activated.\n      this.performClick(menuitem);\n      preventDefault = true;\n    } else if (\n      (this._options.orientation == 'horizontal' &&\n        key == this._keyCode.ARROW_RIGHT) ||\n      (this._options.orientation == 'vertical' &&\n        key == this._keyCode.ARROW_DOWN)\n    ) {\n      /*\n        -Moves focus to the next item in the menubar.\n        -If focus is on the last item, moves focus to the first item.\n       */\n      let nextMenubarIndex =\n        this._currentMenubarIndex + 1 >= this._menubarMenuitems.length\n          ? 0\n          : this._currentMenubarIndex + 1;\n      let nextMenubarItem = this._menubarMenuitems[nextMenubarIndex];\n\n      nextMenubarItem.focus();\n      this._currentMenubarIndex = nextMenubarIndex;\n      this.updateCurrentMenuitem(nextMenubarItem);\n      preventDefault = true;\n    } else if (\n      (this._options.orientation == 'horizontal' &&\n        key == this._keyCode.ARROW_LEFT) ||\n      (this._options.orientation == 'vertical' && key == this._keyCode.ARROW_UP)\n    ) {\n      /*\n        -Moves focus to the previous item in the menubar.\n        -If focus is on the first item, moves focus to the last item.\n       */\n      let prevMenubarIndex =\n        this._currentMenubarIndex - 1 < 0\n          ? this._menubarMenuitems.length - 1\n          : this._currentMenubarIndex - 1;\n      let prevMenubarItem = this._menubarMenuitems[prevMenubarIndex];\n\n      prevMenubarItem.focus();\n      this._currentMenubarIndex = prevMenubarIndex;\n      this.updateCurrentMenuitem(prevMenubarItem);\n      preventDefault = true;\n    } else if (\n      (this._options.orientation == 'horizontal' &&\n        key == this._keyCode.ARROW_UP) ||\n      (this._options.orientation == 'vertical' &&\n        key == this._keyCode.ARROW_LEFT)\n    ) {\n      // Opens submenu and moves focus to last item in the submenu.\n      if (this.hasSubmenu(menuitem)) {\n        this.closeAllSubmenus();\n        this.openSubmenu(menuitem);\n        let lastMenuitem = menuitem.parentNode.querySelector('ul[role=menu]')\n          .lastElementChild.firstElementChild;\n        lastMenuitem.focus();\n        this.updateCurrentMenuitem(lastMenuitem);\n      }\n      preventDefault = true;\n    } else if (key == this._keyCode.HOME) {\n      // Moves focus to first item in the menubar.\n      let firstMenubarItem = this._menubarMenuitems[0];\n      firstMenubarItem.focus();\n      this.updateCurrentMenuitem(firstMenubarItem);\n      preventDefault = true;\n    } else if (key == this._keyCode.END) {\n      // Moves focus to last item in the menubar.\n      let lastMenubarItem = this._menubarMenuitems[\n        this._menubarMenuitems.length - 1\n      ];\n      lastMenubarItem.focus();\n      this.updateCurrentMenuitem(lastMenubarItem);\n      preventDefault = true;\n    } else {\n      // TODO: Consider adding optional character handling.\n    }\n\n    if (preventDefault) {\n      // The following statements will stop the keys from doing stuff.\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  handleKeydownSubmenu(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let preventDefault = false; // Flag to prevent the keypress from doing what it usually would do.\n    let menuitem = event.target;\n    let key = this.normalizeKey(event.key || event.keyCode);\n    let mode = this._options.mode;\n\n    if (\n      (key == this._keyCode.SPACE || key == this._keyCode.ENTER) &&\n      mode == 'standard'\n    ) {\n      if (this.hasSubmenu(menuitem)) {\n        // Open the submenu and place focus on the first item.\n        this.openSubmenu(menuitem);\n        let firstMenuitem = menuitem.parentNode\n          .querySelector('ul[role=menu] > li')\n          .querySelector('a');\n\n        if (firstMenuitem != null) {\n          firstMenuitem.focus();\n          this.updateCurrentMenuitem(firstMenuitem);\n        }\n        preventDefault = true;\n      } else {\n        // Activates menu item, causing the link to be activated.\n        this.performClick(menuitem);\n        preventDefault = true;\n      }\n    } else if (\n      (key == this._keyCode.SPACE || key == this._keyCode.ENTER) &&\n      mode == 'dualAction'\n    ) {\n      // Activates menu item, causing the link to be activated.\n      this.performClick(menuitem);\n      preventDefault = true;\n    } else if (key == this._keyCode.ESC) {\n      /*\n        -Closes submenu.\n        -Moves focus to parent menubar item.\n       */\n      let parentMenuitem = menuitem.parentNode.parentNode.parentNode.querySelector(\n        'a[role=menuitem]',\n      );\n      this.closeSubmenu(parentMenuitem);\n      parentMenuitem.focus();\n      this.updateCurrentMenuitem(parentMenuitem);\n      preventDefault = true;\n    } else if (key == this._keyCode.ARROW_RIGHT) {\n      /*\n        -If focus is on an item with a submenu, opens the submenu and places focus on the first item.\n        -If focus is on an item that does not have a submenu:\n            -Closes submenu.\n            -Moves focus to next item in the menubar.\n            -Opens submenu of newly focused menubar item, keeping focus on that parent menubar item.\n       */\n      if (this.hasSubmenu(menuitem)) {\n        let firstSubmenuItem = menuitem.parentNode\n          .querySelector('a + ul')\n          .querySelector('li > a');\n        this.openSubmenu(menuitem);\n        firstSubmenuItem.focus();\n        this.updateCurrentMenuitem(firstSubmenuItem);\n      } else {\n        this.closeAllSubmenus();\n\n        let nextMenubarIndex =\n          this._currentMenubarIndex + 1 >= this._menubarMenuitems.length\n            ? 0\n            : this._currentMenubarIndex + 1;\n        let nextMenubarItem = this._menubarMenuitems[nextMenubarIndex];\n\n        nextMenubarItem.focus();\n        this.openSubmenu(nextMenubarItem);\n        this._currentMenubarIndex = nextMenubarIndex;\n        this.updateCurrentMenuitem(nextMenubarItem);\n      }\n      preventDefault = true;\n    } else if (key == this._keyCode.ARROW_LEFT) {\n      /*\n        -Closes submenu and moves focus to parent menu item.\n        -If parent menu item is in the menubar, also:\n            -moves focus to previous item in the menubar.\n            -Opens submenu of newly focused menubar item, keeping focus on that parent menubar item.\n       */\n      let submenuParentMenuitem = menuitem.parentNode.parentNode.parentNode.querySelector(\n        'a[role=menuitem]',\n      );\n      this.closeSubmenu(submenuParentMenuitem);\n      submenuParentMenuitem.focus();\n      this.updateCurrentMenuitem(submenuParentMenuitem);\n\n      if (this._currentMenuitem.classList.contains('a11y-navbar-menuitem')) {\n        let prevMenubarIndex =\n          this._currentMenubarIndex - 1 < 0\n            ? this._menubarMenuitems.length - 1\n            : this._currentMenubarIndex - 1;\n        let prevMenubarItem = this._menubarMenuitems[prevMenubarIndex];\n\n        prevMenubarItem.focus();\n        this.openSubmenu(prevMenubarItem);\n        this._currentMenubarIndex = prevMenubarIndex;\n        this.updateCurrentMenuitem(prevMenubarItem);\n      }\n      preventDefault = true;\n    } else if (key == this._keyCode.ARROW_DOWN) {\n      /*\n        -Moves focus to the next item in the submenu.\n        -If focus is on the last item, moves focus to the first item.\n       */\n      let nextSubmenuItem = undefined;\n      let nextSubmenuLiElem = menuitem.parentNode.nextElementSibling;\n      if (nextSubmenuLiElem == null) {\n        nextSubmenuItem = menuitem.parentNode.parentNode.firstElementChild.querySelector(\n          'a',\n        );\n      } else {\n        nextSubmenuItem = nextSubmenuLiElem.querySelector('a');\n      }\n      nextSubmenuItem.focus();\n      this.updateCurrentMenuitem(nextSubmenuItem);\n      preventDefault = true;\n    } else if (key == this._keyCode.ARROW_UP) {\n      /*\n        -Moves focus to previous item in the submenu.\n        -If focus is on the first item, moves focus to the last item.\n      */\n      let prevSubmenuItem = undefined;\n      let prevSubmenuLiElem = menuitem.parentNode.previousElementSibling;\n      if (prevSubmenuLiElem == null) {\n        prevSubmenuItem = menuitem.parentNode.parentNode.lastElementChild.querySelector(\n          'a',\n        );\n      } else {\n        prevSubmenuItem = prevSubmenuLiElem.querySelector('a');\n      }\n      prevSubmenuItem.focus();\n      this.updateCurrentMenuitem(prevSubmenuItem);\n      preventDefault = true;\n    } else if (key == this._keyCode.HOME) {\n      // Moves focus to the first item in the submenu.\n      let firstSubmenuItem = menuitem.parentNode.parentNode.firstElementChild.querySelector(\n        'a',\n      );\n      firstSubmenuItem.focus();\n      this.updateCurrentMenuitem(firstSubmenuItem);\n      preventDefault = true;\n    } else if (key == this._keyCode.END) {\n      // Moves focus to the last item in the submenu.\n      let lastSubmenuItem = menuitem.parentNode.parentNode.lastElementChild.querySelector(\n        'a',\n      );\n      lastSubmenuItem.focus();\n      this.updateCurrentMenuitem(lastSubmenuItem);\n      preventDefault = true;\n    } else {\n      // TODO: Consider adding optional printable character handling.\n    }\n\n    if (preventDefault) {\n      // The following statements will stop the keys from doing stuff.\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  handleMouseoverMenuitem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let menuitem = event.target;\n\n    if (this.hasSubmenu(menuitem)) {\n      this.openSubmenu(menuitem);\n    }\n\n    this.closeSiblingSubmenus(menuitem);\n  }\n\n  handleMouseoutMenubar(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let menubar = event.target;\n\n    this.closeAllSubmenus();\n  }\n\n  handleClickMenuitem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Prevent click initially (to make sure click doesn't occur during touch event)\n    event.preventDefault();\n\n    let menuitem = event.target;\n    this.clickMenuitem(menuitem);\n\n    // TODO: Change behavior for responsive menu...?\n  }\n\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/Touch_events/Supporting_both_TouchEvent_and_MouseEvent#Event_firing\n  // @see https://w3c.github.io/touch-events/#mouse-events\n  handleTouchstartMenuitem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n  }\n  handleTouchmoveMenuitem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // User has begun a touch scroll over the menuitem.\n    this._touchmoveActive = true;\n  }\n  handleTouchendMenuitem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n\n    // Don't activate click if user is finishing a touch scroll.\n    if (this._touchmoveActive) {\n      this._touchmoveActive = false;\n    } else {\n      let menuitem = event.target;\n      this.clickMenuitem(menuitem);\n    }\n  }\n\n  handleFocusinMenuitem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let menuitem = event.target;\n    this.openParentSubmenus(menuitem);\n  }\n\n  handleFocusoutNavElem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    let newTarget = event.relatedTarget;\n\n    if (newTarget == null || !this._navElem.contains(newTarget)) {\n      this.resetNavbar();\n    }\n  }\n\n  handleTouchendNavElem(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Stop click event in navbar from bubbling above element.\n    event.stopPropagation();\n  }\n\n  handleTouchendDocument(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Only reset menu when clicking elsewhere in document if responsive menu not active.\n    let isResponsiveMenu = this._navElem.classList.contains(\n      'a11y-navbar-responsive',\n    );\n    if (!isResponsiveMenu) {\n      // Close submenus, etc. when click occurs anywhere outside of navbar.\n      this.resetNavbar();\n    }\n  }\n\n  handleClickSubmenuToggle(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n\n    let button = event.target;\n    let menuitem = button.parentNode.querySelector('a[role=menuitem]');\n    let ariaExpanded = menuitem.getAttribute('aria-expanded');\n\n    if (ariaExpanded == 'false') {\n      this.openSubmenu(menuitem);\n    } else if (ariaExpanded == 'true') {\n      this.closeSubmenu(menuitem);\n    }\n  }\n\n  // Utility functions -----------------------------------------------\n\n  menubarResize() {\n    let viewportWidth = this._options.windowObj.innerWidth;\n\n    if (viewportWidth <= this._options.breakpointMinWidth) {\n      // Show menubar toggle.\n      this.addMenubarToggle();\n\n      if (this._options.responsiveSubmenuToggles) {\n        this.addSubmenuToggles();\n      }\n    } else {\n      // Hide menubar toggle.\n      this.removeMenubarToggle();\n\n      if (this._options.responsiveSubmenuToggles) {\n        this.removeSubmenuToggles();\n      }\n    }\n  }\n\n  addMenubarToggle() {\n    if (\n      this._options.domObj.getElementById(\n        this._menubarToggle.getAttribute('id'),\n      ) == null\n    ) {\n      this._navElem.parentNode.insertBefore(this._menubarToggle, this._navElem);\n      // Add closed class to menubar.\n      this._navElem.classList.add('a11y-navbar-responsive');\n      this._navElem.classList.add('a11y-navbar-closed');\n      this._menubarToggle.setAttribute('aria-expanded', 'false');\n    }\n  }\n\n  removeMenubarToggle() {\n    if (\n      this._options.domObj.getElementById(\n        this._menubarToggle.getAttribute('id'),\n      )\n    ) {\n      this._navElem.parentNode.removeChild(this._menubarToggle);\n      // Remove open/closed classes from menubar.\n      this._navElem.classList.remove('a11y-navbar-responsive');\n      this._navElem.classList.remove('a11y-navbar-open');\n      this._navElem.classList.remove('a11y-navbar-closed');\n      this._menubarToggle.setAttribute('aria-expanded', 'false');\n    }\n  }\n\n  addSubmenuToggles() {\n    let menubar = this._navElem.querySelector('ul');\n    let submenuToggles = menubar.querySelectorAll(\n      'button.a11y-navbar-submenu-toggle',\n    );\n\n    // Only add if they aren't already there.\n    if (!submenuToggles.length) {\n      let menuitems = menubar.querySelectorAll('a[aria-haspopup=true]');\n\n      for (let i = 0; i < menuitems.length; i++) {\n        let submenuToggle = this._options.domObj.createElement('button');\n        let submenu = menuitems[i].parentNode.querySelector('ul');\n        let submenuId = submenu.getAttribute('id');\n\n        submenuToggle.classList.add('a11y-navbar-submenu-toggle');\n        submenuToggle.setAttribute('id', submenuId + '-submenu-toggle');\n        submenuToggle.setAttribute('tabindex', '-1');\n        submenuToggle.setAttribute('aria-expanded', 'false');\n        submenuToggle.setAttribute('aria-controls', submenuId);\n        submenuToggle.innerHTML =\n          '<span>' + menuitems[i].textContent + '</span>';\n        submenuToggle.addEventListener(\n          'click',\n          this.handleClickSubmenuToggle.bind(this),\n        );\n        let liElem = menuitems[i].parentNode;\n        liElem.insertBefore(submenuToggle, menuitems[i]);\n      }\n    }\n  }\n\n  removeSubmenuToggles() {\n    let menubar = this._navElem.querySelector('ul');\n    let submenuToggles = menubar.querySelectorAll(\n      'button.a11y-navbar-submenu-toggle',\n    );\n\n    for (let i = 0; i < submenuToggles.length; i++) {\n      let liElem = submenuToggles[i].parentNode;\n      liElem.removeChild(submenuToggles[i]);\n    }\n  }\n\n  showMenubar() {\n    this._navElem.classList.remove('a11y-navbar-closed');\n    this._navElem.classList.add('a11y-navbar-open');\n  }\n\n  hideMenubar() {\n    this._navElem.classList.remove('a11y-navbar-open');\n    this._navElem.classList.add('a11y-navbar-closed');\n  }\n\n  toggleInstructions() {\n    let instructionsVisible = this._menubarInstructions.classList.contains(\n      'a11y-navbar-instructions-show',\n    )\n      ? true\n      : false;\n\n    if (instructionsVisible) {\n      this.hideInstructions();\n    } else {\n      this.showInstructions();\n    }\n  }\n\n  showInstructions() {\n    this._menubarInstructions.classList.add('a11y-navbar-instructions-show');\n    this._menubarInstructions.classList.remove('a11y-navbar-instructions-hide');\n  }\n\n  hideInstructions() {\n    this._menubarInstructions.classList.add('a11y-navbar-instructions-hide');\n    this._menubarInstructions.classList.remove('a11y-navbar-instructions-show');\n  }\n\n  updateCurrentMenuitem(newMenuitem) {\n    this._currentMenuitem.setAttribute('tabindex', '-1');\n    this._currentMenuitem = newMenuitem;\n    this._currentMenuitem.setAttribute('tabindex', '0');\n  }\n\n  hasSubmenu(menuitem) {\n    let liElem = menuitem.parentNode;\n    let menu = liElem.querySelector('a + ul');\n    let response = menu == null ? false : true;\n\n    return response;\n  }\n\n  openSubmenu(menuitem) {\n    let liElem = menuitem.parentNode;\n    let menu = liElem.querySelector('ul');\n\n    // Only open submenu if it exists.\n    if (menu != null) {\n      menu.classList.remove('a11y-navbar-menu-closed');\n      menu.classList.add('a11y-navbar-menu-open');\n      menuitem.setAttribute('aria-expanded', 'true');\n\n      // If button exists, update attributes.\n      let button = liElem.querySelector('button.a11y-navbar-submenu-toggle');\n\n      if (button != null) {\n        button.setAttribute('aria-expanded', 'true');\n      }\n    }\n  }\n\n  openParentSubmenus(menuitem) {\n    // Open all submenus above and including the menuitem.\n    let submenu = menuitem.parentNode.parentNode;\n\n    if (submenu.classList.contains('a11y-navbar-menu-closed')) {\n      let parentMenuitem = submenu.parentNode.querySelector(\n        'a[aria-expanded=\"false\"]',\n      );\n\n      if (parentMenuitem != null) {\n        this.openSubmenu(parentMenuitem);\n        this.openParentSubmenus(parentMenuitem);\n      }\n    }\n  }\n\n  closeChildSubmenus(menuitem) {\n    // Close all submenus below and including the menuitem.\n    let submenu = menuitem.parentNode.parentNode;\n\n    if (submenu.classList.contains('a11y-navbar-menu-open')) {\n      let childMenuitems = submenu.querySelectorAll('a[aria-expanded=\"true\"]');\n\n      for (let i = 0; i < childMenuitems.length; i++) {\n        this.closeSubmenu(menuitem);\n      }\n    }\n  }\n\n  closeSubmenu(menuitem) {\n    let liElem = menuitem.parentNode;\n    let menu = liElem.querySelector('ul');\n\n    // Only close submenu if it exists.\n    if (menu != null) {\n      menu.classList.remove('a11y-navbar-menu-open');\n      menu.classList.add('a11y-navbar-menu-closed');\n      menuitem.setAttribute('aria-expanded', 'false');\n\n      // If button exists, update attributes.\n      let button = liElem.querySelector('button.a11y-navbar-submenu-toggle');\n\n      if (button != null) {\n        button.setAttribute('aria-expanded', 'false');\n      }\n    }\n  }\n\n  closeSiblingSubmenus(menuitem) {\n    let ulElem = menuitem.parentNode.parentNode;\n    let siblings = ulElem.querySelectorAll('li > a[role=menuitem]');\n    let siblingsArray = [];\n\n    // Remove menuitem from siblings.\n    for (let i = 0; i < siblings.length; i++) {\n      if (siblings[i] !== menuitem) {\n        siblingsArray.push(siblings[i]);\n      }\n    }\n\n    for (let j = 0; j < siblingsArray.length; j++) {\n      this.closeSubmenu(siblingsArray[j]);\n    }\n  }\n\n  closeAllSubmenus() {\n    // Closes all currently open submenus.\n    let openSubmenus = this._navElem.querySelectorAll(\n      'ul.a11y-navbar-menu-open',\n    );\n\n    for (let i = 0; i < openSubmenus.length; i++) {\n      let aElem = openSubmenus[i].parentNode.querySelector('a');\n      aElem.setAttribute('aria-expanded', 'false');\n      openSubmenus[i].classList.remove('a11y-navbar-menu-open');\n      openSubmenus[i].classList.add('a11y-navbar-menu-closed');\n\n      // If buttons exist, update attributes.\n      let button = openSubmenus[i].parentNode.querySelector(\n        'button.a11y-navbar-submenu-toggle',\n      );\n      if (button != null) {\n        button.setAttribute('aria-expanded', 'false');\n      }\n    }\n  }\n\n  performClick(menuitem) {\n    let href = menuitem.getAttribute('href');\n\n    window.location = href;\n  }\n\n  clickMenuitem(menuitem) {\n    let hasAriaExpanded = menuitem.hasAttribute('aria-expanded');\n\n    if (hasAriaExpanded) {\n      let ariaExpanded = menuitem.getAttribute('aria-expanded');\n\n      if (ariaExpanded == 'true') {\n        // Only perform click if submenu is already open.\n        this.performClick(menuitem);\n      } else {\n        // If not in responsive menu, close other open top-level submenus.\n        let isResponsiveMenu = this._navElem.classList.contains(\n          'a11y-navbar-responsive',\n        );\n        if (!isResponsiveMenu) {\n          // If menuitem is a top-level menu item, close submenus.\n          if (this._menubarMenuitems.indexOf(menuitem) != -1) {\n            this.closeAllSubmenus();\n          }\n        }\n\n        // Open the submenu.\n        this.openSubmenu(menuitem);\n      }\n    } else {\n      // Just perform click (menuitem does not have submenu).\n      this.performClick(menuitem);\n    }\n  }\n\n  resetNavbar() {\n    this.updateCurrentMenuitem(this._menubarMenuitems[0]);\n    this._currentMenubarIndex = 0;\n    this.closeAllSubmenus();\n  }\n\n  normalizeKey(key) {\n    let normalizedKey = null;\n\n    switch (key) {\n      case 'Tab':\n      case 9:\n        normalizedKey = this._keyCode.TAB;\n        break;\n\n      case 'Enter':\n      case 13:\n        normalizedKey = this._keyCode.ENTER;\n        break;\n\n      case 'Escape':\n      case 'Esc':\n      case 13:\n        normalizedKey = this._keyCode.ESC;\n        break;\n\n      case ' ':\n      case 32:\n        normalizedKey = this._keyCode.SPACE;\n        break;\n\n      case 'End':\n      case 35:\n        normalizedKey = this._keyCode.END;\n\n      case 'Home':\n      case 36:\n        normalizedKey = this._keyCode.HOME;\n        break;\n\n      case 'ArrowLeft':\n      case 37:\n        normalizedKey = this._keyCode.ARROW_LEFT;\n        break;\n\n      case 'ArrowUp':\n      case 38:\n        normalizedKey = this._keyCode.ARROW_UP;\n        break;\n\n      case 'ArrowRight':\n      case 39:\n        normalizedKey = this._keyCode.ARROW_RIGHT;\n        break;\n\n      case 'ArrowDown':\n      case 40:\n        normalizedKey = this._keyCode.ARROW_DOWN;\n        break;\n    }\n\n    return normalizedKey;\n  }\n}\n"]}